# `Blueprint`

一个基于 Electron 的可视化数据关系编辑器，用来启发灵感，整理思路。

## Description

以创作小说为例，这是一个实用的工具帮助你获得新的灵感，以及整理你的想法。

**自由桌面**

`Blueprint` 拥有一个自由的工作台，在这里你可以创建任何对象。

对象在这里指的是一份数据，这个数据可以具体指代故事的角色、场景、事件，甚至故事本身。这份数据代表什么由你决定！

不过，你可以预先设定一些实体对象来提供一些方便，让你不用每次创建新对象时都从定义开始。比如在创作小说的场景中，这些预设的实体对象可以是上面所说的角色、场景、事件、故事等。于是，此后如果你需要创建任何一个上述的对象时，选择这个预设模版，你就可以快速创建出指定的对象了。

我建议你给所有同类型的对象赋予一个时间戳属性，这对于后面的时间线视图中自动排序对象极有帮助。

在自由桌面上，你已经创建了一个对象，接下来你可以开始给这个对象设计属性。如果这是一个角色对象，它可能需要名称、性别、年龄、特征、身世、所有物，或者更进一步的角色描写等属性；如果这是一个场景，它可能需要名称、位置、标志、历史，或进一步的详细描述作为属性；如果是事件，则可能需要关联地点，时间、起因、经过、结果等属性，以此类推。

我建议你在一个工作台中，尽量只放置同一种类型的对象，例如在故事的工作台中仅安排故事的对象以表示剧情的走向，在单独的故事的工作台中安排事件，而事件可以对应一个或多个场景，在场景的工作台中安排角色与角色之间的发展与关系。

是的，自由工作台可以创建很多个，具体需要多少个？由你决定。每个自由工作台都可以和一个对象做关联，例如一个故事，它的内容可以是一段描述，或者是一个工作台，如果它是工作台，那么你就可以给它安排具体的事件和角色关系。如何决定是否需要给每个故事创建工作台？往往详细展开的故事是需要工作台来帮你梳理关系的，这是故事的重要组成部分；而三言两语的背景故事不需要，它们仅作为背景存在来补完你的世界观。

**时间线视图**

时间线视图是一个自动生成的视图。如果你为一个工作台的对象全都设定了时间戳属性，那么这个工作台的对象有能力生成一个时间线视图，在这个视图中，每个对象会按时间远近的顺序排列，显示在一条时间轴上。

如果这个工作台中的对象全都是故事或者是事件的实体，且刚好你为给它们设计了持续时间属性，那么在时间线视图上它们会根据持续时间的长短来调整自己的体积，持续时间越长则事件显示的长度越长，反之亦然。持续时间属性有一个默认的名称，如果你以 `持续时间` 或者 `duration` 来命名这个属性的话，时间线视图会自动识别并调整对象的持续时间，如果不是默认的识别名称，而你又想依据这个属性来安排持续时间的话，你需要手动选择持续时间引用的属性。

时间线视图有助于帮你对对象出现的时间和持续的时间有一个直观的把握，如果这些对象是一个个事件，你还可以对故事发展的节奏和紧张程度有一个视觉上的感受，这也可以帮你找出例如”支线任务占了太多篇幅”、“故事时间顺序不合理”等问题，让你的故事更加完善。

时间线视图显示的时候你仍然可以修改对象的属性，这些修改会反应到这个对象被引用的任何地方。

**列表视图**

除了时间线视图，列表视图是另一个有用的视图，它也是自动生成的，同样也是按照时间排序。

列表视图在时间概念上没有时间线视图直观，但是它以列表形式显示所有事件，在同屏的信息量上是远远大于松散的时间线视图的。它可以是故事背景的编年表，或者角色出场的时间顺序表等等。

同样，在列表视图上你也可以对对象属性做出修改，这些修改也将反应到对象被引用的各处。

**对象**

对象是 `Blueprint` 中的一个重要概念。对象即数据，是一份数据的最小单位。

对象有一些必选的属性，首先创建一个对象，你需要定义对象的类型，还是以创作小说的角度来看，你需要决定你现在创建的这个对象到底是在设计一个角色、场景还是一段故事。我建议你为每个对象设定一个时间戳，并且命名为 `时间戳`、`Timestamp` 或其他你喜欢的名称，但是如果你命名为我提到的这两个关键字，它将自动作为视图排序的依据，当然如果你选择了一个其他的名称，你可以告诉应用应该用哪个属性排序。最后，如果你没有创建时间戳属性，我会为你保留一个隐藏的 `创建时间` 属性，并忠实的记载该对象被创建的时间，**这里的细节仍然在讨论之中**。

设计对象可以说是 `Blueprint` 绝大多数时间要做和在做的事情。为了让长时间的工作尽量被乐趣填充，做到一定程度上的抵抗枯燥这种情绪的措施，对象的可定制要素会非常的丰富。

对象需要一个图标（如果是角色的话可以是头像），这里会有预设的一些头像，当然你也可以选择自己喜欢的图片作为图像。

以小说场景为例，无论是角色还是场景，甚至是事件或故事，它们都有一个很重要也是很有趣的属性，所有物。我们可以给对象设计一个模块来区别对待对象的所有物和对象的属性，毕竟属性就像我们的年龄和个人信息一样是没有实体的概念，而我们的所有物，例如手上的手机，桌子上的电脑等有形之物，与属性区别甚大。

我们设置一个概念来处理这个区别，于角色来说，我们开辟一个新地方来让你设计角色的所有物，角色背包，在这里你将把角色收集的战利品、制作品等有形之物归纳管理，并且可以快速了解到每个阶段角色背包内容的变化。换到场景的角度，我们可以叫它场景物件，或者地方特产？只要你喜欢这个名字，你可以随时改变这个名字，它记录了这个场景会产出什么东西，或者隐藏什么东西。而对故事而言，可以设置战利品，或者争夺的物品，最后或许还可以设置这个东西的最终归属。

*（拓展：或许角色背包里面的东西也能自带一个属性，至少告诉你是从什么途径获得的？可以考虑，如果没有困难可以实现）*

设置对象的趣味性，我们还可以从角色立绘、场景快照、属性和装备的图标等角度来做进一步完善，当然这每一个细节都是无数小时的工作，不过我相信如果真的做出来这些细节的元素将对用户体验有很大的提升。

**临场感**

上一节我们所做的很多事情都是为了提示你在使用 `Blueprint` 时的临场感，我相信只要让你来电（我指的是让你感觉舒适），就能激发你最完美的工作状态。或许这个应用有很多游戏中会出现的元素，例如角色背包、争夺品之类的，我特意使用一些相关的名词来让你感觉自己在创作一个有趣的东西，让你对自己的作品更有感觉，你会以最完美的状态给你的读者展现最好的文字，这是我们在做的，也是我们期望做的。

**筛选**

筛选是一个重要的功能，其重要程度仅次于对象。往往在自由工作台我们可以创建很多很多东西，这些东西在时间线视图或者列表视图下显示给你直观的信息，但有时你不需要所有的信息，因为在普遍的场景下，**准确的信息**往往比所有的信息更有效。比如在一个跨越好几个故事的事件，从全局上来观察这个事件的线路往往没有效率（当然大局观是有必要的），通过给事件上标签，你可以仅仅筛选出相关的事件，这相当于一个局部的视图。

在自由工作台中你可以仅显示想看的对象。在时间线视图中，你可能只想看某一条支线的时间跨度。在列表视图中，或许你会想看看某个故事一共有多少个事件，或者某个阵营有多少个角色。筛选帮助你完成这些操作。

**输出文件**

所有储存的对象数据都可以用指定格式输出到文件中，这是一个数据备份的方式。数据的意义在这个应用中高于一切，所有的功能展开的前提都是保证数据的正确性和安全性，请妥善使用备份功能来避免数据操作不当或损毁等问题给你带来的诸多不便。

现在预想的是至少有以文本方式格式化输出数据，或以 CSV 格式输出（？有必要的话），或者可以考虑一下直接输出成 Excel 可用的格式，如果这个比较难实现的话，也可以考虑写个 VBA 来做文本转化 Excel 文件的步骤。

数据备份的话（这里指的是应用数据备份，用来恢复的那种），可以考虑直接输出原始 DB 文件，或者简单加密输出（开源的加密有意义的话？）。

**总结**

`Blueprint` 是一个操作数据关系的应用。现在还是功能设计阶段，一切都在 Pending 中。

没什么好总结的，就是这样。

**接下来要做的**

接下来要做的是技术考察选型以及细致化的功能设计。考察一下技术细节，设计一下功能细节。

同时开展的是 UI 设计的工作，设计完成就可以开始做 UI 组件了，不过在设计没有完成之前可以先把后台的各种工具实现一下。

**18.4.23 记录**

技术考察开始。不过最近有其他事情缠身，可能进度会略慢。

首先考察的是 Redux 的用法。

